<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <!-- these are not required, but just for demonstration -->
        <link href="dev/main.css" rel="stylesheet" />
        <link href="dev/bootstrap/css/bootstrap.css" rel="stylesheet" />

        <!-- These are required for everything to work, but they may be
             installed somewhere already, if adding to an existing site. -->
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

        <!-- Here's the important part... -->
        <link href="bin/app.css" rel="stylesheet" />

    </head>

    <body>
        <div id="content">
            <div class="row">
                <div class="span9">
                    <p>Note: this is for testing <code>tmp/nds.js</code>
                    </p>
                    <h3>Inline mode</h3>
                    <p>Hold Alt or option (⌥) while selecting or double clicking
                        on a word to select it, and a result will appear. To
                        reveal or dismiss it, simply hover over the now
                        highlighted word. Language is selected from the form
                        below.</p>
                    <blockquote><p>Wikipedia lea friddja diehtosátnegirji badjel 270 gielain.
                        Dan čállet eaktodáhtolaš geavaheaddjit miehtá máilmmi. Dan
                        sisdoalu lea lohpi kopieret ja geavahit almmolaččat. Maid
                        don sáhtát juste dál rievdadit ja dievasmahttit
                        Wikipedia-artihkkaliid, dahje álggahit áibbas ođđa
                        artihkkala Wikipediai. Dávjá lea buorre jorgalit
                        artihkkaliid dáro-, ruoŧa-, suoma-, dahje eŋgelasgiel
                        Wikipediain. Wikipedia-prošeakta álggii jagis 2001 ja dál
                        gávdnojit badjel 20 miljovnna artihkkala, main 6,520 leat
                        davvisámegielat Wikipedias.</p></blockquote>
                    
                    <blockquote><p>
                            Wikipedia har over 22 millioner artikler på
                            285 språk (per mai 2012). Mer enn 3,9
                            millioner av disse finnes i den
                            engelskspråklige utgaven. Den nest største
                            utgaven er den tyskspråklige utgaven med mer
                            enn 1,4 millioner artikler. Den tyske
                            utgaven har også blitt utgitt på DVD. På
                            tredjeplass kommer den franskspråklige
                            versjonen, med over 1,2 millioner artikler.
                            På fjerdeplass kommer den nederlandske
                            versjonen med over 1 millioner artikler.
                            Det finnes to utgaver på norsk, én på
                            bokmål/riksmål og én på nynorsk. Den
                            førstnevnte har over 361 000 artikler, mens
                            nynorskutgaven har mer enn 92 000 artikler.
                            Ifølge Alexa er Wikipedia en av verdens 10
                            mest besøkte nettsider og den
                            engelskspråklige versjonen benyttes av 97 %
                            av alle nettbrukere i USA når de søker
                            informasjon fra nettbaserte
                            leksikon.</p></blockquote>

                    <p>This works anywhere you can highlight text, not just in
                        the above paragraph.</p>

                    <h3>Test cases</h3>
                    <h4>Firefox has issues with these.</h4>
                    <ul>
                        <li>Extend the selection to include words with periods in them: 
                            gatáa.ang ñasa'áa, gatáa.ang ñasaasdlä'ánggang</li>
                        <li>gatáa.ang ñasaasdlä'ánggang</li>
                        <li>sçajúugaahl gatáa.ang</li>
                        <li>tlagadáad gatáa.ang</li>
                        <li>agáng çáandangee 'lagagáa.ang ñasaasdláa</li>
                        <li>agáng çáandangee 'lagagáa</li>
                        <li>nikî-nitawi-kiskinwahamâkosin</li>

                        <li>-a eller -e, blir endelsen &#8216;–ii&#8217;
                            <span style="color: #800000;">skuvla -&gt;
                                skuvlii, baste -&gt; bastii</span></li>
                        <li>-i eller -á, blir endelsen &#8216;–ái&#8217;
                            <span style="color: #800000;">gávpi -&gt;
                                gávpái, mánná -&gt; mánnái</span></li>
                        <li>-u eller –o, blir endelsen &#8216;–ui&#8217;
                            <span style="color: #800000;">báŋku -&gt;
                                báŋkui, reŋko -&gt; reŋkui</span></li>
                    </ul>
                </div>
            <div class="row">
                <div class="span12">
                <h3>Minor issues</h3>
                <ul>
                    <li>Highlighting text to search won't work on mobile
                        browsers, and another solution will be
                        necessary</li>
                </ul>
                </div>
            </div>
        </div>
    </body>
        <script type='text/javascript'>

            (function () {
                var NDS_API_HOST             = 'http://localhost:5000' 
                  , NDS_BOOKMARK_VERSION     = '0.0.3'
                  ;

                var nds_css      = document.createElement('link') ;
                    nds_css.href = NDS_API_HOST + '/static/css/jquery.neahttadigisanit.css' ;
                    nds_css.rel  = 'stylesheet' ;

                var nds_book      = document.createElement('script') ;
                    nds_book.type = 'text/javascript' ;
                    nds_book.src  = NDS_API_HOST + '/static/js/bookmarklet.min.js' ;
                   
                window.NDS_API_HOST = NDS_API_HOST ;
                window.NDS_BOOKMARK_VERSION = NDS_BOOKMARK_VERSION ;

                if (window.location.hostname == "skuvla.info" && window.frames.length > 0) {
                    var d;
                    d = window.frames[1];
                    d.window.NDS_API_HOST = window.NDS_API_HOST
                    d.document.getElementsByTagName('head')[0].appendChild(nds_css);
                    d.document.getElementsByTagName('body')[0].appendChild(nds_book);
                } else {
                    document.getElementsByTagName('head')[0].appendChild(nds_css) ;
                    document.getElementsByTagName('body')[0].appendChild(nds_book) ;
                }
            })();
        </script>
</html>

